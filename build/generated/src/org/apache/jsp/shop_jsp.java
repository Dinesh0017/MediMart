package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class shop_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("    <head>\r\n");
      out.write("        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n");
      out.write("        <title>JSP Page</title>\r\n");
      out.write("        <link rel=\"stylesheet\" href=\"css/shop.css\">\r\n");
      out.write("    </head>\r\n");
      out.write("    <body>\r\n");
      out.write("        <div>\r\n");
      out.write("            ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "Header.jsp", out, false);
      out.write(" \r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"carousel\">\r\n");
      out.write("            <div class=\"carousel-images\">\r\n");
      out.write("                <div class=\"carousel-image\">\r\n");
      out.write("                <img src=\"images/carosal/carosal2.jpg\" alt=\"Image 1\">\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"carousel-image\">\r\n");
      out.write("                <img src=\"images/carosal/carosal4.jpg\" alt=\"Image 2\">\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"carousel-image\">\r\n");
      out.write("                <img src=\"images/carosal/carosal3.jpg\" alt=\"Image 3\">\r\n");
      out.write("            </div>\r\n");
      out.write("            </div>\r\n");
      out.write("    <div class=\"slogan-head\">Your Wellness, Our Priority</div>\r\n");
      out.write("    <div class=\"slogan-description\">\"We prioritize your health and well-being by delivering quality medications and healthcare essentials directly to you, ensuring a seamlessÂ experience.\"</div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <!-- Container for sort by, filter section, and quantity controls -->\r\n");
      out.write("        <div class=\"options-container\">\r\n");
      out.write("            <!-- Sort by list -->\r\n");
      out.write("            <div class=\"sort-by\">\r\n");
      out.write("                <label for=\"sort\">Sort By:</label>\r\n");
      out.write("                <select name=\"sort\" id=\"sort\">\r\n");
      out.write("            <option value=\"default\">Default</option>\r\n");
      out.write("                    <option value=\"price_low_to_high\">Price Low to High</option>\r\n");
      out.write("                    <option value=\"price_high_to_low\">Price High to Low</option>\r\n");
      out.write("                    <option value=\"name_a_to_z\">Name A to Z</option>\r\n");
      out.write("                    <option value=\"name_z_to_a\">Name Z to A</option>\r\n");
      out.write("                </select>\r\n");
      out.write("            </div>\r\n");
      out.write("    \r\n");
      out.write("            <!-- Filter section -->\r\n");
      out.write("            <div class=\"filter-section\">\r\n");
      out.write("                <h3>Filter By:</h3>\r\n");
      out.write("                <label for=\"filter1\" class=\"filter-checkbox\"><input type=\"checkbox\" id=\"filter1\"> Analgesics</label>\r\n");
      out.write("                <label for=\"filter2\" class=\"filter-checkbox\"><input type=\"checkbox\" id=\"filter2\"> Antibiotics</label>\r\n");
      out.write("                <label for=\"filter3\" class=\"filter-checkbox\"><input type=\"checkbox\" id=\"filter3\"> Antidepressants</label>\r\n");
      out.write("            <label for=\"filter4\" class=\"filter-checkbox\"><input type=\"checkbox\" id=\"filter1\"> Antivirals</label>\r\n");
      out.write("                <label for=\"filter5\" class=\"filter-checkbox\"><input type=\"checkbox\" id=\"filter2\"> Cardiovascular Medications</label>\r\n");
      out.write("                <label for=\"filter6\" class=\"filter-checkbox\"><input type=\"checkbox\" id=\"filter3\"> Gastrointestinal Medications</label>\r\n");
      out.write("            <label for=\"filter7\" class=\"filter-checkbox\"><input type=\"checkbox\" id=\"filter2\"> Topical Medications</label>\r\n");
      out.write("                <label for=\"filter8\" class=\"filter-checkbox\"><input type=\"checkbox\" id=\"filter3\"> Vitamins and Supplements</label>\r\n");
      out.write("                <!-- Add more checkboxes as needed -->\r\n");
      out.write("            </div>\r\n");
      out.write("    </div>\r\n");
      out.write("            <!-- Product grid -->\r\n");
      out.write("            <div class=\"product-grid\">\r\n");
      out.write("                <!-- Products will be dynamically generated here -->\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"pagination\">\r\n");
      out.write("                <button id=\"prevPageBtn\"> <<.Previous Page </button>\r\n");
      out.write("                <button id=\"nextPageBtn\">Next Page>></button>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    \r\n");
      out.write("        <!-- JavaScript code -->\r\n");
      out.write("        <script>\r\n");
      out.write("    const carousel = document.querySelector('.carousel');\r\n");
      out.write("            const images = document.querySelector('.carousel-images');\r\n");
      out.write("    \r\n");
      out.write("            let counter = 1;\r\n");
      out.write("            const size = carousel.clientWidth;\r\n");
      out.write("    \r\n");
      out.write("            function slide() {\r\n");
      out.write("                if (counter >= images.children.length) {\r\n");
      out.write("                    counter = 0;\r\n");
      out.write("                }\r\n");
      out.write("                images.style.transition = 'transform 0.5s ease-in-out';\r\n");
      out.write("                images.style.transform = `translateX(-");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${counter * size}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write("px)`;\r\n");
      out.write("                counter++;\r\n");
      out.write("            }\r\n");
      out.write("    \r\n");
      out.write("            setInterval(slide, 3000); // Change slide every 3 seconds\r\n");
      out.write("        \r\n");
      out.write("        \r\n");
      out.write("        // Function to handle sorting\r\n");
      out.write("        document.getElementById('sort').addEventListener('change', function() {\r\n");
      out.write("            const sortBy = this.value;\r\n");
      out.write("            let sortedProducts = [];\r\n");
      out.write("    \r\n");
      out.write("            switch (sortBy) {\r\n");
      out.write("                case 'price_low_to_high':\r\n");
      out.write("                    sortedProducts = products.slice().sort((a, b) => a.price - b.price);\r\n");
      out.write("                    break;\r\n");
      out.write("                case 'price_high_to_low':\r\n");
      out.write("                    sortedProducts = products.slice().sort((a, b) => b.price - a.price);\r\n");
      out.write("                    break;\r\n");
      out.write("                case 'name_a_to_z':\r\n");
      out.write("                    sortedProducts = products.slice().sort((a, b) => a.name.localeCompare(b.name));\r\n");
      out.write("                    break;\r\n");
      out.write("                case 'name_z_to_a':\r\n");
      out.write("                    sortedProducts = products.slice().sort((a, b) => b.name.localeCompare(a.name));\r\n");
      out.write("                    break;\r\n");
      out.write("                default:\r\n");
      out.write("                    sortedProducts = products.slice(); // Default to original order\r\n");
      out.write("                    break;\r\n");
      out.write("            }\r\n");
      out.write("    \r\n");
      out.write("            displayProducts(sortedProducts);\r\n");
      out.write("        });\r\n");
      out.write("    \r\n");
      out.write("        // Function to handle filtering\r\n");
      out.write("        document.querySelectorAll('.filter-checkbox input').forEach(checkbox => {\r\n");
      out.write("            checkbox.addEventListener('change', function() {\r\n");
      out.write("                const checkedFilters = Array.from(document.querySelectorAll('.filter-checkbox input:checked'))\r\n");
      out.write("                                                .map(checkbox => checkbox.id);\r\n");
      out.write("    \r\n");
      out.write("                const filteredProducts = products.filter(product => {\r\n");
      out.write("                    // Example: Filter products based on checkbox IDs\r\n");
      out.write("                    return checkedFilters.includes('filter1') ? product.name.includes('Product 1') : true;\r\n");
      out.write("                    // Add more conditions as needed for other filter options\r\n");
      out.write("                });\r\n");
      out.write("    \r\n");
      out.write("                displayProducts(filteredProducts);\r\n");
      out.write("            });\r\n");
      out.write("        });\r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("            // Sample product data (replace with your actual data)\r\n");
      out.write("            const products = [\r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("    { image: 'images/products/1.jpg', name: \"BRILINTA 90MG TAB 56S\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication. When not to use, It is contraindicated in patients with known hypersensitivity to the drug.\", price: 302.54 },\r\n");
      out.write("                { image: 'images/products/2.jpg', name: \"PLAVIX 75MG TABS 28 S\", description: \"Active ingredient clopidogrel hydrogen sulfate. Plavix 75 mg film-coated tablets Each film-coated tablet contains 75 mg of clopidogrel (as hydrogen sulphate).\", price: 34.72  },\r\n");
      out.write("    \r\n");
      out.write("     { image: 'images/products/3.png', name: \"CLOPIVAS 75MG\", description: \"Principal Novartis, Therapeutic Group Cardio Antihypertensive, Generic Name Valsartan. Diovan (Valsartan) - 80mg (28 Tablets) Diovan (Valsartan) Uses,\", price: 15.87 },\r\n");
      out.write("    { image: 'images/products/4.jpg', name: \"DIOVAN CAP 80MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price:199.44 },\r\n");
      out.write("    { image: 'images/products/5.jpg', name: \"CLOPIVAS 75MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price: 15.87 },\r\n");
      out.write("    { image: 'images/products/6.jpg', name: \"CLOPIVAS 75MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price: 15.87 },\r\n");
      out.write("    { image: 'images/products/7.jpeg', name: \"CLOPIVAS 75MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price: 15.87 },\r\n");
      out.write("    { image: 'images/products/8.jpg', name: \"CLOPIVAS 75MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price: 15.87 },\r\n");
      out.write("    { image: 'images/products/9.jpg', name: \"CLOPIVAS 75MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price: 15.87 },\r\n");
      out.write("    { image: 'images/products/10.png', name: \"CLOPIVAS 75MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price: 15.87 },\r\n");
      out.write("    { image: 'images/products/11.png', name: \"CLOPIVAS 75MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price: 15.87 },\r\n");
      out.write("    { image: 'iimages/products/12.jpg', name: \"CLOPIVAS 75MG\", description: \"This medication is used to treat high blood pressure (hypertension). Side Effects, Dizziness or lightheadedness may occur as your body adjusts to the medication\", price: 15.87 },\r\n");
      out.write("              \r\n");
      out.write("                   ];\r\n");
      out.write("    \r\n");
      out.write("            const productsPerPage = 9; // Number of products per page\r\n");
      out.write("            let currentPage = 1; // Current page\r\n");
      out.write("    \r\n");
      out.write("            // Function to display products\r\n");
      out.write("            function displayProducts(products) {\r\n");
      out.write("                const productGrid = document.querySelector('.product-grid');\r\n");
      out.write("                productGrid.innerHTML = ''; // Clear existing products\r\n");
      out.write("                const startIndex = (currentPage - 1) * productsPerPage;\r\n");
      out.write("                const endIndex = startIndex + productsPerPage;\r\n");
      out.write("                const currentProducts = products.slice(startIndex, endIndex);\r\n");
      out.write("    \r\n");
      out.write("                currentProducts.forEach(product => {\r\n");
      out.write("                    const productCard = document.createElement('div');\r\n");
      out.write("                    productCard.classList.add('product-card');\r\n");
      out.write("                    productCard.innerHTML = `\r\n");
      out.write("                       <div class=\"card-content\"> <img src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${product.image}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write("\" alt=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${product.name}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write("\" class=\"product-image\">\r\n");
      out.write("                        <h3>");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${product.name}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write("</h3>\r\n");
      out.write("                        <p class=\"description\">");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${product.description}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write("</p>\r\n");
      out.write("                        <p>LKR: ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${product.price.toFixed(2)}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write("</p>\r\n");
      out.write("                                           <!-- Add to cart button -->\r\n");
      out.write("                        <button class=\"add-to-cart-btn\">Add to Cart</button></div>\r\n");
      out.write("                    `;\r\n");
      out.write("                    productGrid.appendChild(productCard);\r\n");
      out.write("                });\r\n");
      out.write("    \r\n");
      out.write("             // Initial display of random 9 products\r\n");
      out.write("            const randomProducts = products.sort(() => Math.random() - 0.5).slice(0, 9);\r\n");
      out.write("            displayProducts(randomProducts); // Attach event listeners to quantity increase buttons\r\n");
      out.write("                const increaseBtns = document.querySelectorAll('.increase-btn');\r\n");
      out.write("                increaseBtns.forEach(increaseBtn => {\r\n");
      out.write("                    increaseBtn.addEventListener('click', () => {\r\n");
      out.write("                        const quantityDisplay = increaseBtn.parentElement.querySelector('.quantity-display');\r\n");
      out.write("                        increaseQuantity(quantityDisplay);\r\n");
      out.write("                    });\r\n");
      out.write("                });\r\n");
      out.write("    \r\n");
      out.write("                // Attach event listeners to quantity decrease buttons\r\n");
      out.write("                const decreaseBtns = document.querySelectorAll('.decrease-btn');\r\n");
      out.write("                decreaseBtns.forEach(decreaseBtn => {\r\n");
      out.write("                    decreaseBtn.addEventListener('click', () => {\r\n");
      out.write("                        const quantityDisplay = decreaseBtn.parentElement.querySelector('.quantity-display');\r\n");
      out.write("                        decreaseQuantity(quantityDisplay);\r\n");
      out.write("                    });\r\n");
      out.write("                });\r\n");
      out.write("            }\r\n");
      out.write("    \r\n");
      out.write("            // Function to handle quantity increase\r\n");
      out.write("            function increaseQuantity(quantityDisplay) {\r\n");
      out.write("                let quantity = parseInt(quantityDisplay.textContent);\r\n");
      out.write("                quantity++;\r\n");
      out.write("                quantityDisplay.textContent = quantity;\r\n");
      out.write("            }\r\n");
      out.write("    \r\n");
      out.write("            // Function to handle quantity decrease\r\n");
      out.write("            function decreaseQuantity(quantityDisplay) {\r\n");
      out.write("                let quantity = parseInt(quantityDisplay.textContent);\r\n");
      out.write("                if (quantity > 1) {\r\n");
      out.write("                    quantity--;\r\n");
      out.write("                    quantityDisplay.textContent = quantity;\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("    \r\n");
      out.write("            // Initial display of products on the first page\r\n");
      out.write("            const initialProducts = products.slice(0, productsPerPage);\r\n");
      out.write("            displayProducts(initialProducts);\r\n");
      out.write("    \r\n");
      out.write("            // Pagination functionality\r\n");
      out.write("            const prevPageBtn = document.getElementById('prevPageBtn');\r\n");
      out.write("            const nextPageBtn = document.getElementById('nextPageBtn');\r\n");
      out.write("    \r\n");
      out.write("            prevPageBtn.addEventListener('click', () => {\r\n");
      out.write("                if (currentPage > 1) {\r\n");
      out.write("                    currentPage--;\r\n");
      out.write("                    displayProducts(products);\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("    \r\n");
      out.write("            nextPageBtn.addEventListener('click', () => {\r\n");
      out.write("                const totalPages = Math.ceil(products.length / productsPerPage);\r\n");
      out.write("                if (currentPage < totalPages) {\r\n");
      out.write("                    currentPage++;\r\n");
      out.write("                    displayProducts(products);\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("    \r\n");
      out.write("     // Function to add product to cart and redirect to cart page\r\n");
      out.write("            function addToCart() {\r\n");
      out.write("                // Get product details\r\n");
      out.write("                const productName = this.parentElement.querySelector('h3').textContent;\r\n");
      out.write("                const productPrice = this.parentElement.querySelector('p:nth-of-type(3)').textContent;\r\n");
      out.write("    \r\n");
      out.write("                // Get quantity\r\n");
      out.write("                const quantity = parseInt(this.parentElement.querySelector('.quantity-display').textContent);\r\n");
      out.write("    \r\n");
      out.write("                // Construct cart item object\r\n");
      out.write("                const cartItem = {\r\n");
      out.write("                    name: productName,\r\n");
      out.write("                    price: parseFloat(productPrice.replace('$', '')),\r\n");
      out.write("                    quantity: quantity\r\n");
      out.write("                };\r\n");
      out.write("    \r\n");
      out.write("                // Get existing cart items from localStorage\r\n");
      out.write("                let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\r\n");
      out.write("    \r\n");
      out.write("                // Add new item to cart\r\n");
      out.write("                cartItems.push(cartItem);\r\n");
      out.write("    \r\n");
      out.write("                // Update cart in localStorage\r\n");
      out.write("                localStorage.setItem('cart', JSON.stringify(cartItems));\r\n");
      out.write("    \r\n");
      out.write("                // Redirect to cart page\r\n");
      out.write("                window.location.href = \"cart.jsp\";\r\n");
      out.write("            }\r\n");
      out.write("    \r\n");
      out.write("            // Attach event listener to Add to Cart buttons\r\n");
      out.write("            const addToCartBtns = document.querySelectorAll('.add-to-cart-btn');\r\n");
      out.write("            addToCartBtns.forEach(btn => {\r\n");
      out.write("                btn.addEventListener('click', addToCart);\r\n");
      out.write("            });\r\n");
      out.write("        </script>\r\n");
      out.write("    \r\n");
      out.write("    <div>\r\n");
      out.write("       ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "footer.jsp", out, false);
      out.write("  \r\n");
      out.write("    </div>  \r\n");
      out.write("    </body>\r\n");
      out.write("</html>    ");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
